{% extends "base.html" %}
{% load static %}
{% block content %}
{% load bootstrap4 %}
<style>


.carousel-control-next-icon {

    height: 0;
    border-top: 50px solid transparent;
    border-left: 50px solid red;
    border-bottom: 50px solid transparent;
    opacity:0.2;
}

.carousel-control-prev-icon{
width: 0;
    height: 0;
    border-top: 50px solid transparent;
    border-right: 50px solid red;
    border-bottom: 50px solid transparent;
    opacity:0.2;
}

.card {
  margin: 0 auto;
}
.card .carousel-item {
  height: 200px;
}
.card .carousel-caption {
  padding: 0;
  right: 0;
  left: 0;
  color: #3d3d3d;
}
.card .carousel-caption h3 {
  color: #3d3d3d;
}
.card .carousel-caption p {
  line-height: 30px;
}
.card .carousel-caption .col-sm-3 {
  display: flex;
  align-items: center;
}
.card .carousel-caption .col-sm-9 {
  text-align: left;
}
.navi a {
    text-decoration:none;
}
a > .ico {
    background-color: grey;
    padding: 10px;
    
}
a:hover > .ico {
    background-color: #666;
}

</style>


<!-- start КАТЕГОРИИ -->
<div class="container-fluid">
    <div class="row">
        <div class="col-12 col-sm-3">
            <div class="card bg-light mb-3">
                <div class="card-header text-white text-uppercase"><i class="fa fa-list"></i> Categories</div>
                <ul class="list-group category_block">
                    {% for item in category %}
                    <li class="list-group-item"><a href="category/{{ item.get_absolute_url }}">{{ item.name }}</a></li>
                    
                    {% endfor %}
                </ul>
            </div>
        </div>
        <div class="col">
            <div class="row">

<!-- end КАТЕГОРИИ-->

{% comment %}
	Start slider-------------------->
{% endcomment %}
<div class="container">
    <div class="row">
        <div class="col">
<div id="myCarousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% for item in product_stok|slice:":1" %}
          <div class="carousel-item active">
            
            <img class="second-slide" src="{% if item.product.image %}{{ item.product.image.url }} {% else %}{% static "img/no_image.png" %}{% endif %}" alt="Card image cap" width="230" height="230">
            <div class="container">
              <div class="carousel-caption text-dark text-right">
                <h1>{{item.product.name}}</h1>

                                <p>{{item.product.description|truncatechars:59}}</p>
                <p>Цена: {{item.product.price_uah}}</p>
                <p><a href="{% url 'shop:show_category' item.product.get_absolute_url %}"> Купить по акции {{item.discount}}</a></p>
              </div>
              {% endfor %}
            </div>
          </div>
          {% for item in product_stok|slice:"1:" %}
          <div class="carousel-item">
            <img class="second-slide" src="{% if item.product.image %}{{ item.product.image.url }} {% else %}{% static "img/no_image.png" %}{% endif %}" alt="Card image cap" width="230" height="230">
            <div class="container">
              <div class="carousel-caption text-dark text-right">
                <h1>{{item.product.name}}</h1>
                <p>{{item.product.description|truncatechars:59}}</p>
                <p>Цена: {{item.product.price_uah}}</p>
                <p><a href="{% url 'shop:show_category' item.product.get_absolute_url %}"> Купить по акции {{item.discount}}</a></p>
              </div>
            </div>
          </div>
          {% endfor %}
    
          </div>
        </div>
        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
</div>

{% comment %}
	end slidr------------->
{% endcomment %}
    

<!--
<div class="three-panel-block mt-5">
<div class="row">

{% for item in products %}


                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="service-block-overlay text-center mb-5 p-lg-3">
                        <div class="card">
                        <img class="card-img-top" src="{% if item.image %}{{ item.image.url }} {% else %}{% static "img/no_image.png" %}{% endif %}" alt="Card image cap" width="230" height="230">
                            <h6 class="card-title">{{item.name}}</h6>
                            <p class="card-text">
                            <p>{{item.vendor}}</p>
                            <p>{{item.vendor_code}}</p>
                            {% comment %}
                                
                                {{item.description|truncatechars:88}}
                            {% endcomment %}
                            </p>
                        </div>
                        <div class="card-footer">
                         <h2><a class="text-success" href="{% url 'shop:show_category' item.get_absolute_url %}">{{item.price_uah}}</a></h2>
                        </div>
                        </div>
                        </div>


{% endfor %}
    </div>
</div>



<style>
.three-panel-block{
    float: left;
    width: 100%;
}
.three-panel-block i{
    font-size: 1.5rem;
    margin-bottom: 15px;
}
.three-panel-block i.box-round{
    border-color: inherit;
    border-width: 1px;
    border-style:solid;
    padding:16px;
    border-radius: 50%;
}

/* resets */
*,
*:before,
*:after {
  box-sizing: border-box;
}
.clearfix:after {
  content: "";
  display: table;
  clear: both;
}

/* global
body {
  background-color: rgb(40,40,40);
  color: rgb(100,100,100);
  font-family: sans-serif;
  font-size: 14px;
  line-height: 1.3;
}
 */
.wrapper {
  margin: 0 auto;
  padding: 20px;
  max-width: 95%;

}

h2 {
  font-weight: 700;
}

/* grid */
[class*="row-"] {
  margin-bottom: 20px;
}
[class*="row-"]:last-child {
  margin-bottom: 0;
}
[class*="col-"] {
}

@media all and ( min-width: 1800px ) {
  
  /* all cols margin */
  [class*="col-"] {
    margin-right: 20px;
  }
  [class*="col-"]:last-child {
    margin-right: 0;
  }

  .col-1-4 {
    float: left;
    width: 25%;
    position: relative;
    padding-bottom: 20px;
  }
  .row-4 {
    padding-left: 60px;
    display: flex;
  }
  .row-4 [class*="col-"]:first-child {
    margin-left: -60px;
  }  
}

</style>




                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

-->

<!-- container best product-->


<style>
.col-sm-4 {
border: 1px;
}
</style>

<div class="container mt-2 mb-3">
    <div class="row">
            <div class="card">
                <div class="card-header bg-primary text-white text-uppercase">
                    <i class="fa fa-trophy"></i> Best products
                </div>
                <div class="card-body">
                    <div class="row">
{% comment %}
{% for item in products %}


                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="service-block-overlay text-center mb-5 p-lg-3">
                        <div class="card">
                        <img class="card-img-top" src="{% if item.image %}{{ item.image.url }} {% else %}{% static "img/no_image.png" %}{% endif %}" alt="Card image cap" width="230" height="230">
                            <h6 class="card-title">{{item.name}}</h6>
                            <p class="card-text">
                            <p>{{item.vendor}}</p>
                            <p>{{item.vendor_code}}</p>
                            {% comment %}
                                
                                {{item.description|truncatechars:88}}
                           
                            </p>
                        </div>
                        <div class="card-footer">
                         <h2><a class="text-success" href="{% url 'shop:show_category' item.get_absolute_url %}">{{item.price_uah}}</a></h2>
                        </div>
                        </div>
                        </div>
 {% endcomment %}


{% for item in products %}
<!-- container CARD -->
                        <div class="col-sm-4">
                            <div class="card  h-100">
                                 <img class="card-img-top" src="{% if item.image %}{{ item.image.url }} {% else %}{% static "img/no_image.png" %}{% endif %}" alt="Card image cap" width="230" height="230">

                                <div class="card-body">
                                   
                                    <h4 class="card-title"><a href="{% url 'shop:show_category' item.get_absolute_url %}" title="View Product">{{item.name}}</a></h4>
                                    {{item.price_uah}}
                                    <div class="row">
                                        <div class="col">
                                   <form action="{% url "cart:cart_add" item.id %}" method="post">
                                    {% csrf_token %}
                                    
                                        {% bootstrap_field cart_product_form.quantity show_label=False %}
                                        </div>

                                    <div class="col">
                                        <button type="submit" class="btn btn-outline-primary"><i class="fab fa-get-pocket"></i></button>
                                    </div>
                                        </form> 
                                    </div>
                                    <p>{{item.vendor}}</p>
                                    <p>{{item.vendor_code}}</p>
                                    <p>{{item.description|truncatechars:58}}</p>
                                  
                                </div>
                            </div>
                        </div>
<!-- end container cerd -->
{% endfor %}

                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- END container best product-->

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock %}