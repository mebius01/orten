{% extends "base.html" %}
{% load static %}
{% load mptt_tags %}
{% load bootstrap4 %}
{% load paginator_filter %}

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            {% block breadcrumbs %}
            {{ block.super }}
            <li><a href="{% url 'shop:product_list' %}">Товары</a></li>
            {% endblock %}
        </div>
    </div>
</div>




{% block content %}

<title>Orten - Product List</title>


<div class="container-fluid">
    <div class="row">
        <div class="col-12 col-sm-3">
<div class="card bg-light mb-3">
    <article class="card-group-item">
        <header class="card-header">
            <h6 class="title"><i class="fas fa-filter pr-3"></i>Filters</h6>
        </header>
        <div class="filter-content">
            <div class="card-body">
            <div class="form-row">
            <div class="form-group col-md-6">
<!-- filter price -->
              <label>Min</label>
              <form action="" method="get">
             {% bootstrap_field filter.form.price__gt placeholder="0" show_label=False %} 
      </div>
      <div class="form-group col-md-6 text-right">
              <label>Max</label>
              {% bootstrap_field filter.form.price__lt placeholder="10000" show_label=False %}
      </div>
        
        <div class="form-group col-md-12">
        {% bootstrap_field filter.form.category show_label=False%}


<!-- Vendor filter -->
        {% bootstrap_field filter.form.vendor show_label=False%}

<!-- Typ_Product filter -->

        {% bootstrap_field filter.form.type_product placeholder="Type Product" show_label=False%}
<!-- Search for PN -->
{% comment %}
     {% bootstrap_field filter.form.vendor_code placeholder="Поиск по Артикль" show_label=False%}
{% endcomment %}
       

<!--Кнопка -->
<button type="submit" class="btn btn-block btn-outline-success">Фильтр<i class="fab fa-get-pocket pl-2"></i></button>
<a class="btn btn-block btn-outline-danger" href="{% url 'shop:product_list' %}">Сброс<i class="fas fa-redo-alt pl-2"></i></a>


               
                </form>
           </div>
            </div>
            </div> <!-- card-body.// -->
        </div>
    </article> <!-- card-group-item.// -->
    

</div> <!-- card.// -->
</div>

        <div class="col-sm-9">
            <div class="card card bg-light">
                    <div class="card-header text-bleck text-uppercase"><i class="fas fa-list mr-3"></i>List Product</div>
                    <div class="card-body">
                        <div class="card-group">



{% include "include/include_product_list.html" %}



        </div>
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
            </div>
        </div>
    </div>
</div>

<hr>

<div class="d-flex justify-content-center">
  <ul class="pagination">

     <a href="?{% param_replace page=1 %}">First</a>
    {% if products.has_previous %}
      <a href="?{% param_replace page=products.previous_page_number %}">&laquo;</a></li>
    {% endif %}

    {% for i in paginator.page_range %}
      {% if products.number == i %}
         <a class="active" href="#">{{ i }}</a>
      {% else %}
        <a href="?{%param_replace page=i %}">{{ i }}</a>
      {% endif %}
    {% endfor %}

    {% if products.has_next %}
      <a href="?{% param_replace page=products.next_page_number %}">&raquo;</a>
    {% endif %}
    <a href="?{% param_replace page=paginator.num_pages %}">Last</a>

  </ul>
</div>

{% comment %}


{% if products.has_previous %}
    <a href="?{% param_replace page=1 %}">First</a>
    {% if products.previous_page_number != 1 %}
      <a href="?{% param_replace page=products.previous_page_number %}">Previous</a>
    {% endif %}
  {% endif %}

  Page {{ products.number }} of {{ paginator.num_pages }}

  {% if products.has_next %}
    {% if products.next_page_number != paginator.num_pages %}
      <a href="?{% param_replace page=products.next_page_number %}">Next</a>
    {% endif %}
    <a href="?{% param_replace page=paginator.num_pages %}">Last</a>
  {% endif %}

  <p>Objects {{ products.start_index }}—{{ products.end_index }}</p>



    {% bootstrap_pagination products size="small" %}


<div class="d-flex justify-content-center">
  <ul class="pagination">
    {% if products.has_previous %}
      <a href="?page={{ products.previous_page_number }}">&laquo;</a></li>
    {% else %}
      <li class="disabled"><span>&laquo;</span></li>
    {% endif %}
    {% for i in products.paginator.page_range %}
      {% if products.number == i %}
        <li class="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
      {% else %}
        <li><a href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}
    {% if products.has_next %}
      <li><a href="?page={{ products.next_page_number }}">&raquo;</a></li>
    {% else %}
      <li class="disabled"><span>&raquo;</span></li>
    {% endif %}
  </ul>
</div>



<script>
    $(function() {
        $(selector).pagination({
             items: 100,
             itemsOnPage: 4,
            cssStyle: 'light-theme'
        })
});

</script>

<div class="d-flex justify-content-center">
    {% bootstrap_pagination products %}



<nav aria-label="Page navigation example">
  <ul class="pagination">
    <li class="page-item">

    {% if products.has_previous %}

      <a class="page-link" href="?page={{ products.previous_page_number }}" aria-label="Previous">


        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
        {% endif %}
      </a>
    </li>

    {% for p in products.paginator.page_range %}

    <li class="page-item"><a href="?page={{ p }}" class="page-link">{{ p }}</a></li>

    {% endfor %}

<li class="page-item">

{% if products.has_next %}

      <a class="page-link" href="?page={{ products.next_page_number }}" aria-label="Next">

        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
        {% endif %}
      </a>
    </li>
  </ul>
</nav>




<section class="team-section py-5">
    <div class="container">
        <div class="row mb-5">
            <div class="head-box text-center mb-5 col-md-12">
                <h2>Meet Our Team</h2>
                <h6 class="text-underline-primary mb-5">This is information panel</h6>
            </div>
            {% for product in products %}
            <div class="col-md-4 mb-md-0 mb-sm-4">
                <div class="member-box anim-lf t-bottom">
                    <img class="img-fluid" src="{% static "img/no_image.png" %}" alt="">
                    <div class="overlay-content">
                      <h3 class="text-white ml-3 my-0">{{ product.name }}</h3>
                      <p class="text-white ml-3 mb-3">{{ product.price }}</p>
                      <span class="socail-l ml-3 mb-3">
                        <a href="#" class="mr-2"><i class="fa fa-facebook box-circle-solid"></i></a>
                        <a href="#" class="mr-2"><i class="fa fa-twitter box-circle-solid"></i></a>
                        <a href="#"><i class="fa fa-dribbble box-circle-solid"></i></a>
                      </span>
                    </div>
                </div>
            </div>
            <hr>
            {%endfor%}
        </div>
    </div>

<div class="container-fluid">
    <div class="row">
        <div class="col">
            <strong>
            {% for tag in produts.tags.all %}
            <a href="/shop/tag/{{tag.id}}"> {{ tag.name }}</a> |
            {% endfor %}
            </strong>
        </div>
    </div>

{% endcomment %}
{% comment %}
?search=SSL
?vendor=Patron&type_product=foo
?page=1
/?vendor=Ricoh&type_product=МФУ
<a href="?page={{ products.previous_page_number }}{% if request.GET.queryset %}&queryset={{ request.GET.queryset }}{% endif %}">previous</a>
{% endcomment %}


{% comment %}



            <table class="table-container">
  <thead>
    <tr>
        <th>Фото</th>
        <th>Бренд</th>
        <th>Название</th>
        <th>Артикул</th>
        <th>Нали- чие</th>
        <th>Цена</th>
         <th colspan="2">В корзину</th>

    </tr>
  </thead>
  <tbody>
    <tr>
    {% for product in products %}
    <tr id="">
        <td>
            <a class="item_img"><img src="{% if product.image %}{{ product.image.url }} {% else %}{% static "img/no_image.png" %}{% endif %}" width="30" height="30" alt="lorem">
        </td>
            <td>
            {{ product.vendor }}
        </td>
            <td>
                <a href="{% url 'shop:show_category' product.get_absolute_url %}" id="name">{{ product.name }}

        </td>
            <td>
            {{ product.vendor_code }}
        </td>
            <td>
                 <i class="fas fa-check"></i>
        </td>
            <td>
                {{ product.price }}
        </td>
            <td>
            <form action="{% url "cart:cart_add" product.id %}" method="post">
                {% csrf_token %}


                  {% bootstrap_field cart_product_form.quantity show_label=False %}
            </td>
            <td>
                                  {% buttons %}
                    <button type="submit" class="btn btn-outline-primary"><i class="fab fa-get-pocket"></i></button>
                  {% endbuttons %}


            </form>

        </td>
    </tr>
    {% endfor %}
  </tbody>
</table>


    <nav aria-label="Page navigation example">
  <ul class="pagination">
    <li class="page-item">
    {% if products.has_previous %}
      <a class="page-link" href="?page={{ products.previous_page_number }}" aria-label="Previous">
        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
        {% endif %}
      </a>
    </li>

    {% for p in products.paginator.page_range %}
    <li class="page-item"><a href="?page={{ p }}" class="page-link">{{ p }}</a></li>
    {% endfor %}
<li class="page-item">
{% if products.has_next %}
      <a class="page-link" href="?page={{ products.next_page_number }}" aria-label="Next">
        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
        {% endif %}
      </a>
    </li>
  </ul>
</nav>
{% endcomment %}






{% endblock %}
